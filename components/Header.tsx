'use client'

import Link from 'next/link'
import { usePathname } from 'next/navigation'
import { useState, useEffect } from 'react'

interface HeaderProps {
    className?: string;
}

export function Header({ className = '' }: HeaderProps) {
    const pathname = usePathname()
    const isHomePage = pathname === '/'
    const [isMounted, setIsMounted] = useState(false)

    useEffect(() => {
        setIsMounted(true)
    }, [])

    const renderHeaderText = () => {
        if (!isMounted) {
            return <span className="invisible">GRANT STENGER</span>
        }
        if (isHomePage) {
            return <div className="invisible">GRANT STENGER</div>
        }
        return (
            <Link href="/" className="text-white font-semibold">
                <span className="hidden md:inline">GRANT STENGER</span>
                <span className="inline md:hidden">GS</span>
            </Link>
        )
    }

    return (
        <header className={`py-4 md:py-6 bg-black text-white ${className}`}>
            <nav className="flex justify-between items-center px-4 md:px-6 lg:px-12">
                {renderHeaderText()}
                <div className="flex items-center">
                    <div className="flex space-x-4 md:space-x-6 mr-4 md:mr-6 lg:mr-12">
                        <Link href="/books" className="text-gray-400 hover:text-white transition-colors duration-200 underline text-sm md:text-base">BOOKS</Link>
                        <Link href="/essays" className="text-gray-400 hover:text-white transition-colors duration-200 underline text-sm md:text-base">ESSAYS</Link>
                        <Link href="/aphorisms" className="text-gray-400 hover:text-white transition-colors duration-200 underline text-sm md:text-base">APHORISMS</Link>
                        <Link href="/writing" className="text-gray-400 hover:text-white transition-colors duration-200 underline text-sm md:text-base">WRITING</Link>
                    </div>
                    <div className="flex space-x-2 md:space-x-4">
                        <SocialLink href="https://twitter.com/GrantStenger" icon={<TwitterIcon />} label="Twitter" />
                        <SocialLink href="https://github.com/GrantStenger" icon={<GitHubIcon />} label="GitHub" />
                        <SocialLink href="https://www.instagram.com/grant.stenger/" icon={<InstagramIcon />} label="Instagram" />
                        <SocialLink href="https://www.linkedin.com/in/grant-stenger/" icon={<LinkedInIcon />} label="LinkedIn" />
                    </div>
                </div>
            </nav>
        </header>
    )
}

interface SocialLinkProps {
    href: string;
    icon: React.ReactNode;
    label: string;
}

function SocialLink({ href, icon, label }: SocialLinkProps) {
    return (
        <Link
            href={href}
            target="_blank"
            rel="noopener noreferrer"
            className="text-[#9CA3AF] hover:text-white transition-colors duration-200"
        >
            {icon}
            <span className="sr-only">{label}</span>
        </Link>
    )
}

function TwitterIcon() {
    return (
        <svg width="20" height="20" viewBox="0 0 18 18" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path d="M11.2499 8.15627V7.3124H12V6.4688H12.7499V5.62493H13.5V4.78134H14.2501V3.93747H14.9999V3.09387H15.75V2.25H13.5V3.09387H12.7499V3.93747H12V4.78134H11.2499V5.62493H10.5001V6.4688H8.99988V5.62493H8.25003V4.78134H7.49993V3.93747H6.75008V3.09387H5.99999V2.25H2.25V3.93747H3.0001V4.78134H3.74995V5.62493H4.50004V6.4688H5.24989V7.3124H5.99999V8.15627H6.75008V9.00014H7.49993V9.84373H6.75008V10.6876H5.99999V11.5312H5.24989V12.3751H4.50004V13.2187H3.74995V14.0625H3.0001V14.9061H2.25V15.75H4.50004V14.9061H5.24989V14.0625H5.99999V13.2187H6.75008V12.3751H7.49993V11.5312H8.99988V12.3751H9.74997V13.2187H10.5001V14.0625H11.2499V14.9061H12V15.75H15.75V14.0625H14.9999V13.2187H14.2501V12.3751H13.5V11.5312H12.7499V10.6876H12V9.84373H11.2499V9.00014H10.5001V8.15627H11.2499ZM9.74997 9.00014V9.84373H10.5001V10.6876H11.2499V11.5312H12V12.3751H12.7499V13.2187H13.5V14.0625H14.2501V14.9061H12.7499V14.0625H12V13.2187H11.2499V12.3751H10.5001V11.5312H9.74997V10.6876H8.99988V9.84373H8.25003V8.15627H7.49993V7.3124H6.75008V6.4688H5.99999V5.62493H5.24989V4.78134H4.50004V3.93747H3.74995V3.09387H5.24989V3.93747H5.99999V4.78134H6.75008V5.62493H7.49993V6.4688H8.25003V7.3124H8.99988V8.15627H9.74997V9.00014Z" />
        </svg>
    )
}

function GitHubIcon() {
    return (
        <svg width="20" height="20" viewBox="0 0 18 18" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <g clipPath="url(#clip0_6_11694)">
                <path d="M12.375 15.0752H11.7V15.7502H12.375V15.0752Z" />
                <path d="M11.6999 15.0752H11.0249V15.7502H11.6999V15.0752Z" />
                <path d="M7.6501 15.0752H6.9751V15.7502H7.6501V15.0752Z" />
                <path d="M6.97505 15.0752H6.30005V15.7502H6.97505V15.0752Z" />
                <path d="M13.05 14.4012H12.375V15.0762H13.05V14.4012Z" />
                <path d="M12.375 14.4012H11.7V15.0762H12.375V14.4012Z" />
                <path d="M11.6999 14.4012H11.0249V15.0762H11.6999V14.4012Z" />
                <path d="M7.6501 14.4012H6.9751V15.0762H7.6501V14.4012Z" />
                <path d="M6.97505 14.4012H6.30005V15.0762H6.97505V14.4012Z" />
                <path d="M6.3 14.4012H5.625V15.0762H6.3V14.4012Z" />
                <path d="M5.62495 14.4012H4.94995V15.0762H5.62495V14.4012Z" />
                <path d="M13.725 13.7255H13.05V14.4005H13.725V13.7255Z" />
                <path d="M13.05 13.7255H12.375V14.4005H13.05V13.7255Z" />
                <path d="M12.375 13.7255H11.7V14.4005H12.375V13.7255Z" />
                <path d="M11.6999 13.7255H11.0249V14.4005H11.6999V13.7255Z" />
                <path d="M5.62495 13.7255H4.94995V14.4005H5.62495V13.7255Z" />
                <path d="M4.9499 13.7255H4.2749V14.4005H4.9499V13.7255Z" />
                <path d="M14.4001 13.0515H13.7251V13.7265H14.4001V13.0515Z" />
                <path d="M13.725 13.0515H13.05V13.7265H13.725V13.0515Z" />
                <path d="M13.05 13.0515H12.375V13.7265H13.05V13.0515Z" />
                <path d="M12.375 13.0515H11.7V13.7265H12.375V13.0515Z" />
                <path d="M11.6999 13.0515H11.0249V13.7265H11.6999V13.0515Z" />
                <path d="M4.9499 13.0515H4.2749V13.7265H4.9499V13.0515Z" />
                <path d="M4.2751 13.0515H3.6001V13.7265H4.2751V13.0515Z" />
                <path d="M15.0749 12.3758H14.3999V13.0508H15.0749V12.3758Z" />
                <path d="M14.4001 12.3758H13.7251V13.0508H14.4001V12.3758Z" />
                <path d="M13.725 12.3758H13.05V13.0508H13.725V12.3758Z" />
                <path d="M13.05 12.3758H12.375V13.0508H13.05V12.3758Z" />
                <path d="M12.375 12.3758H11.7V13.0508H12.375V12.3758Z" />
                <path d="M11.6999 12.3758H11.0249V13.0508H11.6999V12.3758Z" />
                <path d="M11.0251 12.3758H10.3501V13.0508H11.0251V12.3758Z" />
                <path d="M7.6501 12.3758H6.9751V13.0508H7.6501V12.3758Z" />
                <path d="M6.97505 12.3758H6.30005V13.0508H6.97505V12.3758Z" />
                <path d="M6.3 12.3758H5.625V13.0508H6.3V12.3758Z" />
                <path d="M4.9499 12.3758H4.2749V13.0508H4.9499V12.3758Z" />
                <path d="M4.2751 12.3758H3.6001V13.0508H4.2751V12.3758Z" />
                <path d="M3.60005 12.3758H2.92505V13.0508H3.60005V12.3758Z" />
                <path d="M15.0749 11.7002H14.3999V12.3752H15.0749V11.7002Z" />
                <path d="M14.4001 11.7002H13.7251V12.3752H14.4001V11.7002Z" />
                <path d="M13.725 11.7002H13.05V12.3752H13.725V11.7002Z" />
                <path d="M13.05 11.7002H12.375V12.3752H13.05V11.7002Z" />
                <path d="M12.375 11.7002H11.7V12.3752H12.375V11.7002Z" />
                <path d="M11.6999 11.7002H11.0249V12.3752H11.6999V11.7002Z" />
                <path d="M6.97505 11.7002H6.30005V12.3752H6.97505V11.7002Z" />
                <path d="M6.3 11.7002H5.625V12.3752H6.3V11.7002Z" />
                <path d="M5.62495 11.7002H4.94995V12.3752H5.62495V11.7002Z" />
                <path d="M4.2751 11.7002H3.6001V12.3752H4.2751V11.7002Z" />
                <path d="M3.60005 11.7002H2.92505V12.3752H3.60005V11.7002Z" />
                <path d="M15.75 11.0262H15.075V11.7012H15.75V11.0262Z" />
                <path d="M15.0749 11.0262H14.3999V11.7012H15.0749V11.0262Z" />
                <path d="M14.4001 11.0262H13.7251V11.7012H14.4001V11.0262Z" />
                <path d="M13.725 11.0262H13.05V11.7012H13.725V11.0262Z" />
                <path d="M13.05 11.0262H12.375V11.7012H13.05V11.0262Z" />
                <path d="M5.62495 11.0262H4.94995V11.7012H5.62495V11.0262Z" />
                <path d="M4.9499 11.0262H4.2749V11.7012H4.9499V11.0262Z" />
                <path d="M4.2751 11.0262H3.6001V11.7012H4.2751V11.0262Z" />
                <path d="M3.60005 11.0262H2.92505V11.7012H3.60005V11.0262Z" />
                <path d="M2.925 11.0262H2.25V11.7012H2.925V11.0262Z" />
                <path d="M15.75 10.3505H15.075V11.0255H15.75V10.3505Z" />
                <path d="M15.0749 10.3505H14.3999V11.0255H15.0749V10.3505Z" />
                <path d="M14.4001 10.3505H13.7251V11.0255H14.4001V10.3505Z" />
                <path d="M13.725 10.3505H13.05V11.0255H13.725V10.3505Z" />
                <path d="M4.9499 10.3505H4.2749V11.0255H4.9499V10.3505Z" />
                <path d="M4.2751 10.3505H3.6001V11.0255H4.2751V10.3505Z" />
                <path d="M3.60005 10.3505H2.92505V11.0255H3.60005V10.3505Z" />
                <path d="M2.925 10.3505H2.25V11.0255H2.925V10.3505Z" />
                <path d="M15.75 9.67648H15.075V10.3515H15.75V9.67648Z" />
                <path d="M15.0749 9.67648H14.3999V10.3515H15.0749V9.67648Z" />
                <path d="M14.4001 9.67648H13.7251V10.3515H14.4001V9.67648Z" />
                <path d="M13.725 9.67648H13.05V10.3515H13.725V9.67648Z" />
                <path d="M4.9499 9.67648H4.2749V10.3515H4.9499V9.67648Z" />
                <path d="M4.2751 9.67648H3.6001V10.3515H4.2751V9.67648Z" />
                <path d="M3.60005 9.67648H2.92505V10.3515H3.60005V9.67648Z" />
                <path d="M2.925 9.67648H2.25V10.3515H2.925V9.67648Z" />
                <path d="M15.75 9.00082H15.075V9.67582H15.75V9.00082Z" />
                <path d="M15.0749 9.00082H14.3999V9.67582H15.0749V9.00082Z" />
                <path d="M14.4001 9.00082H13.7251V9.67582H14.4001V9.00082Z" />
                <path d="M13.725 9.00082H13.05V9.67582H13.725V9.00082Z" />
                <path d="M4.9499 9.00082H4.2749V9.67582H4.9499V9.00082Z" />
                <path d="M4.2751 9.00082H3.6001V9.67582H4.2751V9.00082Z" />
                <path d="M3.60005 9.00082H2.92505V9.67582H3.60005V9.00082Z" />
                <path d="M2.925 9.00082H2.25V9.67582H2.925V9.00082Z" />
                <path d="M15.75 8.32516H15.075V9.00016H15.75V8.32516Z" />
                <path d="M15.0749 8.32516H14.3999V9.00016H15.0749V8.32516Z" />
                <path d="M14.4001 8.32516H13.7251V9.00016H14.4001V8.32516Z" />
                <path d="M4.9499 8.32516H4.2749V9.00016H4.9499V8.32516Z" />
                <path d="M4.2751 8.32516H3.6001V9.00016H4.2751V8.32516Z" />
                <path d="M3.60005 8.32516H2.92505V9.00016H3.60005V8.32516Z" />
                <path d="M2.925 8.32516H2.25V9.00016H2.925V8.32516Z" />
                <path d="M15.75 7.65115H15.075V8.32615H15.75V7.65115Z" />
                <path d="M15.0749 7.65115H14.3999V8.32615H15.0749V7.65115Z" />
                <path d="M14.4001 7.65115H13.7251V8.32615H14.4001V7.65115Z" />
                <path d="M13.725 7.65115H13.05V8.32615H13.725V7.65115Z" />
                <path d="M4.9499 7.65115H4.2749V8.32615H4.9499V7.65115Z" />
                <path d="M4.2751 7.65115H3.6001V8.32615H4.2751V7.65115Z" />
                <path d="M3.60005 7.65115H2.92505V8.32615H3.60005V7.65115Z" />
                <path d="M2.925 7.65115H2.25V8.32615H2.925V7.65115Z" />
                <path d="M15.75 6.97549H15.075V7.65049H15.75V6.97549Z" />
                <path d="M15.0749 6.97549H14.3999V7.65049H15.0749V6.97549Z" />
                <path d="M14.4001 6.97549H13.7251V7.65049H14.4001V6.97549Z" />
                <path d="M13.725 6.97549H13.05V7.65049H13.725V6.97549Z" />
                <path d="M4.9499 6.97549H4.2749V7.65049H4.9499V6.97549Z" />
                <path d="M4.2751 6.97549H3.6001V7.65049H4.2751V6.97549Z" />
                <path d="M3.60005 6.97549H2.92505V7.65049H3.60005V6.97549Z" />
                <path d="M2.925 6.97549H2.25V7.65049H2.925V6.97549Z" />
                <path d="M15.0749 6.30148H14.3999V6.97648H15.0749V6.30148Z" />
                <path d="M14.4001 6.30148H13.7251V6.97648H14.4001V6.30148Z" />
                <path d="M13.725 6.30148H13.05V6.97648H13.725V6.30148Z" />
                <path d="M5.62495 6.30148H4.94995V6.97648H5.62495V6.30148Z" />
                <path d="M4.9499 6.30148H4.2749V6.97648H4.9499V6.30148Z" />
                <path d="M4.2751 6.30148H3.6001V6.97648H4.2751V6.30148Z" />
                <path d="M3.60005 6.30148H2.92505V6.97648H3.60005V6.30148Z" />
                <path d="M15.0749 5.62582H14.3999V6.30082H15.0749V5.62582Z" />
                <path d="M14.4001 5.62582H13.7251V6.30082H14.4001V5.62582Z" />
                <path d="M13.725 5.62582H13.05V6.30082H13.725V5.62582Z" />
                <path d="M4.9499 5.62582H4.2749V6.30082H4.9499V5.62582Z" />
                <path d="M4.2751 5.62582H3.6001V6.30082H4.2751V5.62582Z" />
                <path d="M3.60005 5.62582H2.92505V6.30082H3.60005V5.62582Z" />
                <path d="M14.4001 4.95016H13.7251V5.62516H14.4001V4.95016Z" />
                <path d="M13.725 4.95016H13.05V5.62516H13.725V4.95016Z" />
                <path d="M13.05 4.95016H12.375V5.62516H13.05V4.95016Z" />
                <path d="M11.6999 4.95016H11.0249V5.62516H11.6999V4.95016Z" />
                <path d="M11.0251 4.95016H10.3501V5.62516H11.0251V4.95016Z" />
                <path d="M10.35 4.95016H9.67505V5.62516H10.35V4.95016Z" />
                <path d="M9.675 4.95016H9V5.62516H9.675V4.95016Z" />
                <path d="M8.99995 4.95016H8.32495V5.62516H8.99995V4.95016Z" />
                <path d="M8.3249 4.95016H7.6499V5.62516H8.3249V4.95016Z" />
                <path d="M7.6501 4.95016H6.9751V5.62516H7.6501V4.95016Z" />
                <path d="M6.97505 4.95016H6.30005V5.62516H6.97505V4.95016Z" />
                <path d="M5.62495 4.95016H4.94995V5.62516H5.62495V4.95016Z" />
                <path d="M4.9499 4.95016H4.2749V5.62516H4.9499V4.95016Z" />
                <path d="M4.2751 4.95016H3.6001V5.62516H4.2751V4.95016Z" />
                <path d="M14.4001 4.27615H13.7251V4.95115H14.4001V4.27615Z" />
                <path d="M13.725 4.27615H13.05V4.95115H13.725V4.27615Z" />
                <path d="M13.05 4.27615H12.375V4.95115H13.05V4.27615Z" />
                <path d="M12.375 4.27615H11.7V4.95115H12.375V4.27615Z" />
                <path d="M11.6999 4.27615H11.0249V4.95115H11.6999V4.27615Z" />
                <path d="M11.0251 4.27615H10.3501V4.95115H11.0251V4.27615Z" />
                <path d="M10.35 4.27615H9.67505V4.95115H10.35V4.27615Z" />
                <path d="M9.675 4.27615H9V4.95115H9.675V4.27615Z" />
                <path d="M8.99995 4.27615H8.32495V4.95115H8.99995V4.27615Z" />
                <path d="M8.3249 4.27615H7.6499V4.95115H8.3249V4.27615Z" />
                <path d="M7.6501 4.27615H6.9751V4.95115H7.6501V4.27615Z" />
                <path d="M6.97505 4.27615H6.30005V4.95115H6.97505V4.27615Z" />
                <path d="M6.3 4.27615H5.625V4.95115H6.3V4.27615Z" />
                <path d="M5.62495 4.27615H4.94995V4.95115H5.62495V4.27615Z" />
                <path d="M4.9499 4.27615H4.2749V4.95115H4.9499V4.27615Z" />
                <path d="M13.725 3.60049H13.05V4.27549H13.725V3.60049Z" />
                <path d="M13.05 3.60049H12.375V4.27549H13.05V3.60049Z" />
                <path d="M12.375 3.60049H11.7V4.27549H12.375V3.60049Z" />
                <path d="M11.6999 3.60049H11.0249V4.27549H11.6999V3.60049Z" />
                <path d="M11.0251 3.60049H10.3501V4.27549H11.0251V3.60049Z" />
                <path d="M10.35 3.60049H9.67505V4.27549H10.35V3.60049Z" />
                <path d="M9.675 3.60049H9V4.27549H9.675V3.60049Z" />
                <path d="M8.99995 3.60049H8.32495V4.27549H8.99995V3.60049Z" />
                <path d="M8.3249 3.60049H7.6499V4.27549H8.3249V3.60049Z" />
                <path d="M7.6501 3.60049H6.9751V4.27549H7.6501V3.60049Z" />
                <path d="M6.97505 3.60049H6.30005V4.27549H6.97505V3.60049Z" />
                <path d="M6.3 3.60049H5.625V4.27549H6.3V3.60049Z" />
                <path d="M5.62495 3.60049H4.94995V4.27549H5.62495V3.60049Z" />
                <path d="M12.375 2.92648H11.7V3.60148H12.375V2.92648Z" />
                <path d="M11.6999 2.92648H11.0249V3.60148H11.6999V2.92648Z" />
                <path d="M11.0251 2.92648H10.3501V3.60148H11.0251V2.92648Z" />
                <path d="M10.35 2.92648H9.67505V3.60148H10.35V2.92648Z" />
                <path d="M9.675 2.92648H9V3.60148H9.675V2.92648Z" />
                <path d="M8.99995 2.92648H8.32495V3.60148H8.99995V2.92648Z" />
                <path d="M8.3249 2.92648H7.6499V3.60148H8.3249V2.92648Z" />
                <path d="M7.6501 2.92648H6.9751V3.60148H7.6501V2.92648Z" />
                <path d="M6.97505 2.92648H6.30005V3.60148H6.97505V2.92648Z" />
                <path d="M6.3 2.92648H5.625V3.60148H6.3V2.92648Z" />
                <path d="M11.0251 2.25073H10.3501V2.92573H11.0251V2.25073Z" />
                <path d="M10.35 2.25073H9.67505V2.92573H10.35V2.25073Z" />
                <path d="M9.675 2.25073H9V2.92573H9.675V2.25073Z" />
                <path d="M8.99995 2.25073H8.32495V2.92573H8.99995V2.25073Z" />
                <path d="M8.3249 2.25073H7.6499V2.92573H8.3249V2.25073Z" />
                <path d="M7.6501 2.25073H6.9751V2.92573H7.6501V2.25073Z" />
            </g>
            <defs>
                <clipPath id="clip0_6_11694">
                    <rect width="13.5" height="13.5" fill="white" transform="translate(2.25 2.25)" />
                </clipPath>
            </defs>
        </svg>
    )
}

function InstagramIcon() {
    return (
        <svg width="20" height="20" viewBox="0 0 18 18" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path d="M14.8696 4.01088V3.13043H13.9891V2.25H4.01088V3.13043H3.13043V4.01085H2.25V13.9891H3.13043V14.8695H4.01085V15.75H13.9891V14.8696H14.8695V13.9891H15.75V4.01088H14.8696ZM12.5217 10.7609H11.6413V11.6413H10.7609V12.5217H7.23912V11.6413H6.35869V10.7609H5.47827V7.23912H6.35869V6.35869H7.23912V5.47827H10.7609V6.35869H11.6413V7.23912H12.5217V10.7609H12.5217ZM13.4022 5.77173H12.2283V4.59784H13.4022V5.77173Z" />
            <path d="M10.7608 7.23913V6.3587H7.23907V7.23913H6.35864V10.7609H7.23907V11.6413H10.7608V10.7609H11.6413V7.23913H10.7608Z" />
        </svg>
    )
}

function LinkedInIcon() {
    return (
        <svg width="20" height="20" viewBox="0 0 18 18" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path d="M5.47823 6.65219H2.54346V15.75H5.47823V6.65219Z" />
            <path d="M4.89131 3.13043V2.25H3.13043V3.13043H2.25V4.89131H3.13043V5.77173H4.89131V4.89131H5.77173V3.13043H4.89131Z" />
            <path d="M14.8695 8.41304V7.53262H13.9891V6.65219H9.88038V7.53262H8.99995V6.65219H6.35864V15.75H9.29342V10.1739H10.1739V9.29347H11.9347V10.1739H12.8152V15.75H15.7499V8.41304H14.8695Z" />
        </svg>
    )
}